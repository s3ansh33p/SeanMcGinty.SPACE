let scene,camera,cloudParticles=[],composer;function init(){scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e3),camera.position.z=1,camera.rotation.x=1.16,camera.rotation.y=-.12,camera.rotation.z=.27;var e=new THREE.AmbientLight(5592405);scene.add(e);let n=new THREE.DirectionalLight(16747545);n.position.set(0,0,1),scene.add(n);let t=new THREE.PointLight(13395456,50,450,1.7);t.position.set(200,300,100),scene.add(t);let o=new THREE.PointLight(14177406,50,450,1.7);o.position.set(100,300,100),scene.add(o);let r=new THREE.PointLight(3569580,50,450,1.7);r.position.set(300,300,200),scene.add(r),renderer=new THREE.WebGLRenderer,renderer.setSize(window.innerWidth,window.innerHeight),scene.fog=new THREE.FogExp2(262148,.001),renderer.setClearColor(scene.fog.color),document.body.appendChild(renderer.domElement);let i=new THREE.TextureLoader;i.load(site_url+"assets/images/particles/smoke.png",function(e){cloudGeo=new THREE.PlaneBufferGeometry(500,500),cloudMaterial=new THREE.MeshLambertMaterial({map:e,transparent:!0});for(let e=0;e<50;e++){let e=new THREE.Mesh(cloudGeo,cloudMaterial);e.position.set(800*Math.random()-400,500,500*Math.random()-500),e.rotation.x=1.16,e.rotation.y=-.12,e.rotation.z=2*Math.random()*Math.PI,e.material.opacity=.35,cloudParticles.push(e),scene.add(e)}}),i.load(site_url+"assets/images/backgrounds/stars.jpg",function(e){const n=new POSTPROCESSING.TextureEffect({blendFunction:POSTPROCESSING.BlendFunction.COLOR_DODGE,texture:e});n.blendMode.opacity.value=.2;const t=new POSTPROCESSING.BloomEffect({blendFunction:POSTPROCESSING.BlendFunction.COLOR_DODGE,kernelSize:POSTPROCESSING.KernelSize.SMALL,useLuminanceFilter:!0,luminanceThreshold:.3,luminanceSmoothing:.75});t.blendMode.opacity.value=1.5;let o=new POSTPROCESSING.EffectPass(camera,t,n);o.renderToScreen=!0,composer=new POSTPROCESSING.EffectComposer(renderer),composer.addPass(new POSTPROCESSING.RenderPass(scene,camera)),composer.addPass(o),window.addEventListener("resize",onWindowResize,!1),render()})}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function render(){cloudParticles.forEach(e=>{e.rotation.z-=.001}),composer.render(.1),requestAnimationFrame(render)}init();